---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "openwrt_firewall_rule Resource - openwrt"
subcategory: ""
description: |-
  Firewall traffic rules allowing ports to pass between zones.
---

# openwrt_firewall_rule (Resource)

Firewall traffic rules allowing ports to pass between zones.

## Example Usage

```terraform
resource "openwrt_firewall_zone" "wan" {
  id       = "wantest"
  name     = "wan"
  forward  = "REJECT"
  input    = "REJECT"
  output   = "ACCEPT"
  network = [
    "wan"
  ]
}

resource "openwrt_firewall_zone" "lan" {
  id       = "lantest"
  name     = "lan"
  forward  = "ACCEPT"
  input    = "ACCEPT"
  output   = "ACCEPT"
  network = [
    "lan"
  ]
}

resource "openwrt_firewall_rule" "this" {
  id       = "testing"
  name     = "example-rule"
  src      = "wan"
  src_port = 5050
  src_ip = [
    "127.0.0.1"
  ]
  dest      = "lan"
  dest_port = 8080
  dest_ip = [
    "192.168.0.0"
  ]
  target = "DROP"
  family = "ipv4"
  proto = [
    "udp",
    "tcp",
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Human readable rule name.
- `target` (String) Action to take on rule match, e.g. ACCEPT, REJECT, DROP...

### Optional

- `dest` (String) Rule applies to traffic entering this zone
- `dest_ip` (List of String) Rule applies to traffic targetting these IP addresses.
- `dest_port` (Number) Rule applies to traffic targetting this port
- `family` (String) Restrict the rule to a single protocol family, must be one of "ipv4" or "ipv6". Applies to both if unset.
- `id` (String) Name of the section. This name is only used when interacting with UCI directly.
- `proto` (List of String) List of protocols this rule applies to, currently only supports "tcp" and "udp"
- `src` (String) Rule applies to traffic from this zone
- `src_ip` (List of String) Rule applies to traffic originating from any of these IP addresses.
- `src_port` (Number) Rule applies to traffic originating from this port

## Import

Import is supported using the following syntax:

```shell
# Find the Terraform id from LuCI's JSON-RPC API.
# One way to find this information is with `curl` and `jq`:
#
# curl \
#     --data '{"id": 0, "method": "foreach", "params": ["firewall", "rule"]}' \
#     http://192.168.1.1/cgi-bin/luci/rpc/uci?auth=$AUTH_TOKEN \
#     | jq '.result | map({terraformId: .[".name"]})'
#
# This command will output something like:
#
# [
#   {
#     "terraformId": "cfg123456",
#   }
# ]
#
# We'd then use the information to import the appropriate resource:

terraform import openwrt_firewall_rule.this cfg123456
```
